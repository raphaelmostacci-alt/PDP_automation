Principe général
Pour interagir avec une API REST, vous devez :

Construire une requête HTTP (souvent POST pour envoyer un fichier).
Envoyer cette requête à une URL spécifique (endpoint de l’API).
Recevoir la réponse (souvent en JSON).
Traiter la réponse (parser le JSON pour extraire les données).
2. Exemple simplifié en C avec libcurl
libcurl est une bibliothèque très utilisée en C pour faire des requêtes HTTP. Voici un exemple minimaliste qui envoie un fichier image via POST multipart/form-data et affiche la réponse.

c
#include <stdio.h>
#include <curl/curl.h>

size_t write_callback(void *ptr, size_t size, size_t nmemb, void *userdata) {
    size_t total_size = size * nmemb;
    // Affiche la réponse reçue
    fwrite(ptr, size, nmemb, stdout);
    return total_size;
}

int main(void) {
    CURL *curl;
    CURLcode res;

    curl_global_init(CURL_GLOBAL_DEFAULT);
    curl = curl_easy_init();

    if(curl) {
        struct curl_httppost *formpost = NULL;
        struct curl_httppost *lastptr = NULL;

        // Ajouter le fichier à envoyer (ex: "image.jpg")
        curl_formadd(&formpost,
                     &lastptr,
                     CURLFORM_COPYNAME, "file",
                     CURLFORM_FILE, "image.jpg",
                     CURLFORM_END);

        // URL de l'API REST (à remplacer par la vôtre)
        curl_easy_setopt(curl, CURLOPT_URL, "https://api.exemple.com/analyse-image");

        // Spécifier le formulaire POST
        curl_easy_setopt(curl, CURLOPT_HTTPPOST, formpost);

        // Callback pour afficher la réponse
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, write_callback);

        // Exécuter la requête
        res = curl_easy_perform(curl);

        if(res != CURLE_OK)
            fprintf(stderr, "Erreur curl: %s\n", curl_easy_strerror(res));

        // Nettoyer
        curl_formfree(formpost);
        curl_easy_cleanup(curl);
    }

    curl_global_cleanup();
    return 0;
}
3. Explications
curl_formadd : ajoute un champ "file" contenant le fichier "image.jpg" au formulaire POST.
CURLOPT_URL : l’adresse de l’API à appeler.
CURLOPT_HTTPPOST : indique que la requête est un POST avec formulaire.
write_callback : fonction appelée à chaque réception de données, ici on affiche simplement la réponse JSON.
curl_easy_perform : lance la requête.
4. Ce que vous devez faire
Remplacer "https://api.exemple.com/analyse-image" par l’URL réelle de l’API.
Mettre le fichier image que vous voulez envoyer dans le même dossier que l’exécutable ou indiquer son chemin complet.
Traiter la réponse JSON reçue (vous pouvez la capturer dans une chaîne de caractères pour la parser ensuite).
5. Pour aller plus loin : parser la réponse JSON
En C, vous pouvez utiliser une bibliothèque comme cJSON pour extraire les données utiles dans la réponse.

6. Résumé
Vous faites une requête HTTP POST avec le fichier.
Vous recevez la réponse JSON avec l’analyse.
Vous traitez la réponse pour générer votre rapport.
Si vous souhaitez, je peux aussi vous aider à écrire un exemple de code pour parser la réponse JSON ou pour générer un fichier CSV à partir des données extraites.

N’hésitez pas à me dire ce que vous voulez approfondir !